/**
 * Responsive Styles - Escrita Jurídica com IA
 * Breakpoints e ajustes para diferentes tamanhos de tela
 */

/* ========================================
   BREAKPOINT: TABLET (640px - 1023px)
   ======================================== */

@media (max-width: 1023px) {
  /* Layout */
  .header-center {
    display: none;
  }

  .header-left {
    min-width: auto;
    flex: 1;
  }

  .menu-toggle {
    display: flex;
  }

  /* Sidebar como Drawer */
  .sidebar {
    transform: translateX(-100%);
    box-shadow: none;
  }

  .sidebar.open {
    transform: translateX(0);
    box-shadow: var(--shadow-2xl);
  }

  .sidebar-overlay {
    display: block;
  }

  /* Main sem margem */
  .main {
    margin-left: 0;
  }

  /* Ajustes de conteúdo */
  .main-content {
    padding: var(--space-8) var(--space-6);
  }

  /* Exercício */
  .exercise-title {
    font-size: var(--text-3xl);
  }

  /* Cards lado a lado */
  .example-comparison {
    gap: var(--space-3);
  }

  .tips-grid {
    gap: var(--space-3);
  }

  /* Tabs com scroll horizontal */
  .tabs-header {
    overflow-x: auto;
    -webkit-overflow-scrolling: touch;
    scrollbar-width: none;
  }

  .tabs-header::-webkit-scrollbar {
    display: none;
  }

  .tab-button {
    white-space: nowrap;
    flex-shrink: 0;
  }
}

/* ========================================
   BREAKPOINT: MOBILE (<640px)
   ======================================== */

@media (max-width: 639px) {
  /* Root adjustments */
  :root {
    --height-header: 60px;
  }

  /* Header */
  .header {
    padding: 0 var(--space-3);
  }

  .header-logo-icon {
    width: 36px;
    height: 36px;
    font-size: var(--text-lg);
  }

  .header-title {
    font-size: var(--text-base);
  }

  .header-subtitle {
    display: none;
  }

  .header-right {
    gap: var(--space-2);
  }

  /* Seletor de idioma compacto */
  .lang-selector {
    padding: 2px;
    gap: 2px;
  }

  .lang-option {
    padding: var(--space-1) var(--space-2);
    font-size: 11px;
  }

  /* Menu toggle */
  .menu-toggle {
    width: 36px;
    height: 36px;
  }

  /* Sidebar full width */
  .sidebar {
    width: 100%;
    max-width: 320px;
  }

  .sidebar-module-header {
    padding: var(--space-3);
  }

  .sidebar-exercise {
    padding: var(--space-2) var(--space-3) var(--space-2) var(--space-8);
  }

  /* Main content */
  .main-content {
    padding: var(--space-5) var(--space-4);
  }

  /* Tipografia */
  .exercise-title {
    font-size: var(--text-2xl);
  }

  .exercise-meta {
    flex-wrap: wrap;
    gap: var(--space-2);
  }

  .card-title {
    font-size: var(--text-lg);
  }

  /* Cards */
  .card {
    padding: var(--space-4);
    border-radius: var(--radius-lg);
  }

  .card-header {
    flex-direction: column;
    gap: var(--space-2);
  }

  .card-icon {
    width: 32px;
    height: 32px;
    font-size: var(--text-lg);
  }

  /* Callouts */
  .callout {
    padding: var(--space-3) var(--space-4);
    gap: var(--space-3);
  }

  .callout-icon {
    font-size: var(--text-lg);
  }

  /* Code blocks */
  .code-block {
    border-radius: var(--radius-lg);
    margin-left: calc(-1 * var(--space-4));
    margin-right: calc(-1 * var(--space-4));
    border-radius: 0;
  }

  .code-header {
    padding: var(--space-2) var(--space-4);
  }

  .code-content {
    padding: var(--space-4);
  }

  .code-content pre {
    font-size: var(--text-xs);
  }

  /* Comparisons */
  .example-comparison {
    grid-template-columns: 1fr;
  }

  .tips-grid {
    grid-template-columns: 1fr;
  }

  /* Checklist */
  .checklist-header {
    padding: var(--space-3) var(--space-4);
  }

  .checklist-item {
    padding: var(--space-2);
  }

  .checklist-checkbox {
    width: 20px;
    height: 20px;
  }

  /* Navigation */
  .exercise-nav {
    flex-direction: column;
    gap: var(--space-3);
    margin-top: var(--space-8);
  }

  .exercise-nav-button {
    padding: var(--space-3) var(--space-4);
  }

  .exercise-nav-button.prev,
  .exercise-nav-button.next {
    align-items: flex-start;
    text-align: left;
  }

  /* Accordion */
  .accordion-header {
    padding: var(--space-3) var(--space-4);
  }

  .accordion-body {
    padding: var(--space-3) var(--space-4);
  }

  /* Tabs */
  .tab-button {
    padding: var(--space-2) var(--space-3);
    font-size: var(--text-xs);
  }

  /* Concept section */
  .concept-section h3 {
    font-size: var(--text-xl);
  }

  .concept-section h4 {
    font-size: var(--text-lg);
  }

  /* Buttons */
  .btn {
    padding: var(--space-2) var(--space-4);
    font-size: var(--text-xs);
  }
}

/* ========================================
   BREAKPOINT: TELAS GRANDES (>=1280px)
   ======================================== */

@media (min-width: 1280px) {
  .main-content {
    padding: var(--space-16);
  }

  .exercise-title {
    font-size: var(--text-5xl);
  }

  /* Mais espaço para código */
  .code-content {
    padding: var(--space-6);
  }

  .code-content pre {
    font-size: var(--text-base);
  }
}

/* ========================================
   BREAKPOINT: TELAS MUITO GRANDES (>=1536px)
   ======================================== */

@media (min-width: 1536px) {
  :root {
    --width-sidebar: 320px;
    --width-content-max: 900px;
  }

  .main-content {
    padding: var(--space-20);
  }
}

/* ========================================
   AJUSTES PARA ALTURA DA TELA
   ======================================== */

/* Telas baixas (laptops) */
@media (max-height: 700px) {
  .sidebar-module-header {
    padding: var(--space-2) var(--space-4);
  }

  .sidebar-exercise {
    padding: var(--space-2) var(--space-4) var(--space-2) var(--space-10);
  }
}

/* ========================================
   ORIENTAÇÃO LANDSCAPE EM MOBILE
   ======================================== */

@media (max-height: 500px) and (orientation: landscape) {
  .header {
    height: 50px;
  }

  .app-body {
    padding-top: 50px;
  }

  .sidebar {
    top: 50px;
  }

  .main-content {
    padding-top: var(--space-4);
    padding-bottom: var(--space-4);
  }
}

/* ========================================
   PREFERÊNCIAS DE SISTEMA
   ======================================== */

/* Alto contraste */
@media (prefers-contrast: high) {
  :root {
    --color-border: #000;
    --color-ink-muted: #333;
  }

  .card {
    border-width: 2px;
  }

  .btn {
    border-width: 2px;
  }
}

/* Movimento reduzido */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }

  .sidebar {
    transition: none;
  }

  .accordion-content {
    transition: none;
  }

  .sidebar-exercises {
    transition: none;
  }
}

/* ========================================
   PRINT STYLES
   ======================================== */

@media print {
  .header,
  .sidebar,
  .sidebar-overlay,
  .menu-toggle,
  .exercise-nav,
  .code-copy-btn,
  .lang-selector {
    display: none !important;
  }

  .app-body {
    padding-top: 0;
  }

  .main {
    margin-left: 0;
  }

  .main-content {
    max-width: 100%;
    padding: 0;
  }

  .card {
    box-shadow: none;
    border: 1px solid #ccc;
    break-inside: avoid;
  }

  .code-block {
    background-color: #f5f5f5 !important;
    color: #000 !important;
  }

  .code-block pre {
    color: #000 !important;
  }

  .checklist-item {
    page-break-inside: avoid;
  }

  a[href]::after {
    content: " (" attr(href) ")";
    font-size: 0.8em;
    color: #666;
  }
}

/* ========================================
   UTILITÁRIOS RESPONSIVOS
   ======================================== */

/* Ocultar em mobile */
.hide-mobile {
  display: block;
}

@media (max-width: 639px) {
  .hide-mobile {
    display: none !important;
  }
}

/* Mostrar apenas em mobile */
.show-mobile {
  display: none;
}

@media (max-width: 639px) {
  .show-mobile {
    display: block;
  }
}

/* Ocultar em tablet e abaixo */
.hide-tablet {
  display: block;
}

@media (max-width: 1023px) {
  .hide-tablet {
    display: none !important;
  }
}

/* Mostrar apenas em tablet e abaixo */
.show-tablet {
  display: none;
}

@media (max-width: 1023px) {
  .show-tablet {
    display: block;
  }
}
